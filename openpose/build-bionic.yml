version: "0.1"

info:
    name: "proneer/openpose-bionic"
    tags:
      - "v0.1"
      - "latest"
    maintainer: "Phillip Strefling"
    email: "phillip@proneer.co"
    organization: "Proneer Corp."
    version: "0.1"
    repository: "registry.dev.proneer.co"
build:
    base: "ubuntu:18.04"
    #entrypoint: "python3 /docker-entrypoint.py"
    projects:
      - directory: "base-cpu"
        dockerfiles:
          - file: "Dockerfile.bionic.base"
            repository: "registry.dev.proneer.co"
            name: "base"
            tag: "ubuntu18.04"
            from: "ubuntu:18.04"
      - directory: "base-gpu"
        dockerfiles:
          - file: "Dockerfile.bionic.cuda10-1"
            repository: "registry.dev.proneer.co"
            name: "cuda"
            tag: "10.1-ubuntu18.04"
            from: "registry.dev.proneer.co/base:ubuntu18.04"
          - file: "Dockerfile.bionic.cuda10-1.runtime"
            repository: "registry.dev.proneer.co"
            name: "cuda"
            tag: "10.1-runtime-ubuntu18.04"
            from: "registry.dev.proneer.co/cuda:10.1-ubuntu18.04"
          - file: "Dockerfile.bionic.cuda10-1.devel"
            repository: "registry.dev.proneer.co"
            name: "cuda"
            tag: "10.1-devel-ubuntu18.04"
            from: "registry.dev.proneer.co/cuda:10.1-runtime-ubuntu18.04"
          - file: "Dockerfile.bionic.cuda10-1.devel.cudnn7"
            repository: "registry.dev.proneer.co"
            name: "cuda"
            tag: "10.1-cudnn7-devel-ubuntu18.04"
            from: "registry.dev.proneer.co/cuda:10.1-devel-ubuntu18.04"
      - directory: "openpose"
        dockerfiles:
          - file: "Dockerfile.bionic.base"
            repository: "registry.dev.proneer.co"
            name: "openpose"
            tag: "base-ubuntu18.04"
            from: "registry.dev.proneer.co/cuda:10.1-cudnn7-devel-ubuntu18.04"
          - file: "Dockerfile.bionic"
            repository: "registry.dev.proneer.co"
            name: "openpose"
            tag: "ubuntu18.04"
            push_version: "v0.1"
            from: "registry.dev.proneer.co/openpose:base-ubuntu18.04"